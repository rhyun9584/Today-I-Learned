# 05장 객체 지향 설계 5원칙 - SOLID
객체 지향의 특성을 올바르게 사용하는 방법.

* [SRP - 단일 책임 원칙](#srp---단일-책임-원칙)
* [OCP - 개방 폐쇄 원칙](#ocp---개방-폐쇄-원칙)
* [LSP - 리스코프 치환 원칙](#lsp---리스코프-치환-원칙)
* [ISP - 인터페이스 분리 원칙](#isp---인터페이스-분리-원칙)
* [DIP - 의존 역전 원칙](#dip---의존-역전-원칙)

---

* **SRP**(Single Responsibility Principle): 단일 책임 원칙
* **OCP**(Open Closed Principle): 개방 폐쇄 원칙
* **LSP**(Liskov Substitution Principle): 리스코프 치환 원칙
* **ISP**(Interface Segregation Principle): 인터페이스 분리 원칙
* **DIP**(Dependency Inversion Principle): 의존 역전 원칙

**응집도**는 높이고 **결합도**는 낮추라는 고전 원칙을 객체 지향의 관점에서 재정립한 것이 **SOLID**

**결합도**는 모듈(클래스)간의 상호 의존 정도로서 결합도가 낮으면 모듈 간의 상호 의존성이 줄어들어 객체의 재사용이나 수정, 유지보수가 용이하다.<br>
**응집도**는 하나의 모듈 내부에 존재하는 구성 요소들의 기능적 관련성으로, 응집도가 높은 모듈은 하나의 책임에 집중하고 독립성이 높아져 재사용이나 기능의 수정, 유지보수가 용이하다. 

SOLID를 잘 녹여낸 소프트웨어는 그렇지 않은 소프트웨어에 비해 상대적으로 이해하기 쉽고, 리팩터링과 유지보수가 수월할 뿐만 아니라 논리적으로 정연하다.

객체 지향 4대 특성을 발판으로 하고 있으며, 디자인 패턴의 뼈대이며 스프링 프레임워크의 근간이다.

## SRP - 단일 책임 원칙
> 어떤 클래스가 변경해야 하는 이유는 오직 하나뿐이어야 한다.

한 클래스가 두 가지 이상의 책임을 맡고있거나, 하나의 속성이 두 가지 의미의 값을 갖는 등의 문제는 단일 책임 원칙을 지키지 않은 설계!

단일 책임 원칙은 모델링 과정을 담당하는 **추상화**와 가장 연관이 깊다.

## OCP - 개방 폐쇄 원칙
> 확장에 대해서는 열려 있어야 하지만 변경에 대해서는 닫혀 있어야 한다.<br>
→ 자신의 확장에는 열려 있고, 주변의 변화에 대해서는 닫혀 있어야 한다.

**상속** 등을 활용하여 레이어를 사용하는 것과 유사한 원칙! 예를 들어 자동차를 참조할 때, 차종이 변할 때마다 그 코드를 변경해야 한다면 개방 폐쇄 원칙에 위배되는 것.<br>
(+) 레이어링을 통해 한 레이어가 변경되어도 다른 레이어에는 변경사항이 없는 것과 유사한 개념인듯 하다.

개방 폐쇄 원칙의 예시로 JDBC를 통해 연결한 DBMS의 종류가 달러도 코드를 수정하지 않아도 되는 것이며, 자바 코드가 어느 운영체제에서 돌아가던지 똑같은 소스파일을 사용하는 것이다.

## LSP - 리스코프 치환 원칙
> 서브 타입은 언제나 자신의 기반 타입으로 교체될 수 있어야 한다. <br>
→ 하위 클래스의 인스턴스는 상위형 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는 데 문제가 없어야 한다.

* 하위 클래스 **is kind of** 상위 클래스
* 구현 클래스 **is able to** 인터페이스
    * 인터페이스의 예시로 `Runnalbe`, `Cloneable` 등이 있다.
    * 예시 인터페이스의 이름은 '~할 수 있는'으로 해석할 수 있도록 네이밍되어 있다.

## ISP - 인터페이스 분리 원칙
> 클라이언트는 자신이 사용하지 않는 메소드에 의존관계를 맺으면 안 된다.

너무 많은 책임을 갖는 한 클래스를 각 역할에 따라 인터페이스로 분리하는 방법!

단일 책임 원칙(SRP)와 인터페이스 분리 원칙(ISP)는 같은 문제에 대한 두 가지 다른 해결책. 그러나 특별한 경우가 아니라면 단일 책임 원칙을 적용하는 것이 더 좋은 해결책이라고 할 수 있다. 

인터페이스 분할 원칙과 함께 등장하는 원칙 중 하나로 **인터페이스 최소주의 원칙**이라는 것이 있다. 인터페이스를 통해 메소드를 외부에 제공할 때는 최소한의 메소드만 제공하라는 것.

상위 클래스는 풍성할수록 좋고, 인터페이스는 작을수록 좋다.

## DIP - 의존 역전 원칙
> 자주 변경되는 구체(Concrete = 구체적인) 클래스에 의존하지 마라.<br>
→ 자신보다 변하기 쉬운 것에 의존하지 마라.

자신보다 변하기 쉬운 것에 의존하던 것을 **추상화된 인터페이스나 상위 클래스를 두어** 변하기 쉬운 것의 변화에 영향받지 않게 하는 것이 의존 역전 원칙.

자동차라는 클래스가 타이어를 의존할 때, 일반 타이어에서 스노우 타이어로 교체하게 되는 경우 타이어를 직접 가리키면 문제가 발생할 수 있다! 따라서 타이어라는 상위 클래스를 만들어 그 객체를 참조하고........

개방 폐쇄 원칙과 유사하다.

## 정리 - 객체 지향 세계와 SOLID
**SoC**(Separation of Concerns) 관심사의 분리

관심이 같은 것 끼리는 하나의 객체 안으로 또는 친한 객체로 모으고, 관심이 다른 것은 가능한 따로 떨어져 서로 영향을 주지 않도록 분리하라는 것.

SoC를 적용하면 단일 책임 원칙(SRP), 인터페이스 분리 원칙(ISP), 개방 폐쇄 원칙(OCP)에 도달하게 된다.
